{% extends 'dashboards/admin_base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/order_management.css' %}?v=1.2">
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Order & Reservation Management</h1>
</div>

<div class="page-controls">
    <form method="GET" action="{% url 'order_management' %}" class="search-form">
        <input type="text" name="search" class="search-input" placeholder="Search by student name or ID..." value="{{ search_query }}">
        <button type="submit" class="btn search-btn">Search</button>
    </form>
</div>

<!-- Section for Pending Orders -->
<h2 class="section-title">Pending Orders</h2>
<div class="orders-grid">
    {% for order in pending_orders %}
        {% include 'dashboards/partials/admin_order_card.html' with order=order %}
    {% empty %}
        <div class="no-data-cell"><p>No pending orders found.</p></div>
    {% endfor %}
</div>

<!-- Section for Approved Orders -->
<h2 class="section-title">Approved Orders</h2>
<div class="orders-grid">
    {% for order in approved_orders %}
        {% include 'dashboards/partials/admin_order_card.html' with order=order %}
    {% empty %}
        <div class="no-data-cell"><p>No approved orders found.</p></div>
    {% endfor %}
</div>

<!-- Section for Order History -->
<h2 class="section-title">Order History (Completed, Cancelled, etc.)</h2>
<div class="orders-grid">
    {% for order in other_orders %}
        {% include 'dashboards/partials/admin_order_card.html' with order=order %}
    {% empty %}
        <div class="no-data-cell">
            {% if search_query %}
                <p>No historical orders found for "{{ search_query }}".</p>
            {% else %}
                <p>No order history found.</p>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}

