{% extends 'dashboards/student_base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/student_dashboard.css' %}?v=1.0">
{% endblock %}

{% block content %}
<h1 class="welcome-title">{{ greeting }}, {{ display_name }}! ğŸ‘‹</h1>

<div class="dashboard-grid">
    <div class="dashboard-card">
        <div class="card-icon">ğŸ›ï¸</div>
        <h2>Browse Products</h2>
        <p>Explore our wide selection of school supplies and items</p>
        <a href="{% url 'browse_products' %}" class="card-btn">View Products</a>
    </div>

    <div class="dashboard-card">
        <div class="card-icon">ğŸ“‹</div>
        <h2>My Reservations</h2>
        <p>Check your current and past reservations</p>
        <a href="{% url 'my_reservations' %}" class="card-btn">View Reservations</a>
    </div>
</div>

<!-- Activity Section -->
<div class="activity-section">
    <div class="activity-left">
        <h3>Recent Reservations <span class="count" id="reservation-count">...</span></h3>
        <div id="reservations-list" class="activity-list">
            <div class="loading-item">ğŸ± Loading...</div>
        </div>
        <a href="{% url 'my_reservations' %}" class="view-all-btn">View All Reservations</a>
    </div>

    <div class="activity-right">
        <h3>Recent Orders <span class="count" id="order-count">...</span></h3>
        <div id="orders-list" class="activity-list">
            <div class="loading-item">ğŸ± Loading...</div>
        </div>
        <a href="{% url 'my_orders' %}" class="view-all-btn">View All Orders</a>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Placeholder script to show empty state.
    // In a real app, you would fetch data via an API.
    document.getElementById("reservations-list").innerHTML = `<div class="empty-state"><span>ğŸ“‹ No recent reservations</span></div>`;
    document.getElementById("orders-list").innerHTML = `<div class="empty-state"><span>ğŸ“¦ No recent orders</span></div>`;
    document.getElementById("reservation-count").textContent = `0 total`;
    document.getElementById("order-count").textContent = `0 total`;
</script>
{% endblock %}