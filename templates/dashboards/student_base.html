{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page_title|default:'Dashboard' }} - CIT Wildcats Store</title>
    <link rel="stylesheet" href="{% static 'css/student_base.css' %}?v=1.2">
    {% block extra_css %}{% endblock %}
</head>
<body class="buyer-dashboard">
    <header class="dashboard-header">
        <div class="header-left">
            <a class="logo">
                <span class="logo-icon">ğŸ±</span>
                <span class="logo-text">CIT Wildcats Store</span>
            </a>
        </div>
        <nav class="main-nav">
            <a href="{% url 'student_dashboard' %}" class="nav-btn {% if active_page == 'dashboard' %}active{% endif %}">ğŸ  Dashboard</a>
            <a href="{% url 'browse_products' %}" class="nav-btn {% if active_page == 'browse' %}active{% endif %}">ğŸ›’ Browse Products</a>
            <a href="{% url 'my_reservations' %}" class="nav-btn {% if active_page == 'reservations' %}active{% endif %}">ğŸ“… My Reservations</a>
            <a href="{% url 'my_orders' %}" class="nav-btn {% if active_page == 'orders' %}active{% endif %}">ğŸ“¦ My Orders</a>
        </nav>
        <div class="header-right">
            <!-- âœ… UPDATED: The student name is now a link to the profile page -->
            <a href="{% url 'student_profile' %}" class="student-name-link {% if active_page == 'profile' %}active{% endif %}">
                <span class="student-name">{{ request.user.get_full_name|first|upper }}</span>
            </a>
            <a href="{% url 'logout' %}" class="logout-btn">Logout</a>
        </div>
    </header>
    <div class="container">

        <ul class="messages" id="messages-container">
            {% if messages %}
                {% for message in messages %}
                    <li class="{{ message.tags }}">{{ message }}</li>
                {% endfor %}
            {% endif %}
        </ul>
        
        {% block content %}{% endblock %}
    </div>
    {% block extra_js %}{% endblock %}
</body>
</html>
